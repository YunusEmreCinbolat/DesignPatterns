<div class="device-card">
  <!-- BaÅŸlÄ±k -->
  <div class="device-header">
    <h3>{{ device.name }}</h3>
    <span
      class="state-badge"
      [ngClass]="{
        on: device.state === 'ON',
        off: device.state === 'OFF'
      }"
    >
      {{ device.state }}
    </span>
  </div>

  <!-- Cihaz GÃ¶rseli -->
  <div class="device-body" [ngSwitch]="device.type">
    <div *ngSwitchCase="DeviceType.LIGHT" class="icon light">
      ğŸ’¡
    </div>

    <div *ngSwitchCase="DeviceType.AC" class="icon ac">
      ğŸŒ¬ï¸
    </div>

    <div *ngSwitchCase="DeviceType.TV" class="icon tv">
      ğŸ“º
    </div>

    <div *ngSwitchDefault class="icon unknown">â“</div>
  </div>

  <!-- Enerji BarÄ± -->
  <div class="energy-container">
    <div class="energy-bar">
      <div
        class="energy-fill"
        [style.width.%]="energyLevel"
        [ngClass]="{ active: device.state === 'ON' }"
      ></div>
    </div>
    <div class="energy-text">
      Enerji: {{ energyLevel | number : '1.0-0' }}%
    </div>
  </div>

  <!-- DekoratÃ¶r Etiketleri -->
  <div class="decorators" *ngIf="decorators.length > 0">
    <span
      *ngFor="let dec of decorators"
      class="decorator-badge"
      [ngClass]="{
        'timer-badge': dec.includes('Timer'),
        'energy-badge': dec.includes('Energy')
      }"
    >
      {{ dec }}
    </span>
  </div>

  <!-- AÃ§/Kapat Butonu -->
  <div class="actions">
    <button
      (click)="toggleDevice()"
      [disabled]="loading"
      [ngClass]="{
        'btn-on': device.state === 'OFF',
        'btn-off': device.state === 'ON'
      }"
    >
      {{ device.state === 'ON' ? 'Kapat' : 'AÃ§' }}
    </button>
  </div>

  <!-- Loading Durumu -->
  <div *ngIf="loading" class="loading">Ä°ÅŸleniyor...</div>
</div>
